{"version":3,"file":"static/js/622.3b44a0c2.chunk.js","mappings":"wPASe,SAASA,IACpB,IAAAC,GAAsCC,EAAAA,EAAAA,MAA/BC,EAAQF,EAARE,SAAkBC,EAASH,EAAjBI,OACXC,GAAWC,EAAAA,EAAAA,MAEXC,GAASC,EAAAA,EAAAA,MAAYC,MACrBC,GAAYF,EAAAA,EAAAA,MAAYE,UACxBC,GAAUH,EAAAA,EAAAA,MAAYG,QACtBC,GAAQJ,EAAAA,EAAAA,MAAYI,MACpBC,GAAYL,EAAAA,EAAAA,MAAYK,UAE9BC,GAAwBC,EAAAA,EAAAA,UAASC,SAASb,EAAUc,MAAM,KAAK,KAAO,GAAEC,GAAAC,EAAAA,EAAAA,GAAAL,EAAA,GAAjEM,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACdI,EAAcX,EAAU,EAAIS,EAE5BhB,EAASF,EAASe,MAAM,KAAKf,EAASe,MAAM,KAAKM,OAAS,GAMhE,OAJAC,EAAAA,EAAAA,YAAU,WACNnB,GAASoB,EAAAA,EAAAA,IAAuB,CAACrB,OAAAA,EAAQgB,KAAME,IACnD,GAAG,CAACjB,EAAUD,EAAQkB,KAGlBI,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACKrB,EAAOgB,OAAS,IACbM,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACrB,MAAOF,EACPwB,WAAY,SAACC,GAAI,OACbH,EAAAA,EAAAA,KAACI,EAAAA,GAAS,CACCD,KAAMA,GADDA,EAAKE,GAEnB,IAGfxB,EAAY,IACTmB,EAAAA,EAAAA,KAACM,EAAAA,GAAmB,CAChBzB,UAAWA,EACXU,KAAME,EACND,QAASA,IAIbd,EAAOgB,OAAS,IAAMX,IAAUC,IAChCgB,EAAAA,EAAAA,KAACO,EAAAA,GAAK,CAACC,QAAO,IAAAC,OAAMlC,EAAM,iBAG1BQ,IAASiB,EAAAA,EAAAA,KAACO,EAAAA,GAAK,CAACC,QAA0B,kBAAVzB,EAAqBA,EAAQ,OAI7E,C","sources":["pages/SearchPage.tsx"],"sourcesContent":["import {useEffect, useState} from 'react';\nimport {useLocation} from 'react-router-dom';\n\nimport {useAppDispatch, useMovies} from '../hooks';\nimport {\n    getMoviesBySearchThunk,\n} from '../store/movies';\nimport {Error, List, MovieItem, PaginationContainer} from '../components';\n\nexport default function SearchPage() {\n    const {pathname, search: localPage} = useLocation();\n    const dispatch = useAppDispatch();\n\n    const movies = useMovies().items;\n    const totalPage = useMovies().totalPage;\n    const resPage = useMovies().resPage;\n    const error = useMovies().error;\n    const isLoading = useMovies().isLoading;\n\n    const [page, setPage] = useState(parseInt(localPage.split('=')[1]) || 1);\n    const currentPage = resPage ? 1 : page;\n\n    const search = pathname.split('/')[pathname.split('/').length - 1];\n\n    useEffect(() => {\n        dispatch(getMoviesBySearchThunk({search, page: currentPage}));\n    }, [dispatch, search, currentPage]);\n\n    return (\n        <>\n            {movies.length > 0 &&\n                <List items={movies}\n                      renderItem={(item) =>\n                          <MovieItem key={item.id}\n                                     item={item}\n                          />}\n                />\n            }\n            {totalPage > 1 &&\n                <PaginationContainer\n                    totalPage={totalPage}\n                    page={currentPage}\n                    setPage={setPage}\n                />\n            }\n            {\n                movies.length < 1 && !error && !isLoading &&\n                <Error message={`\"${search}\" not found`}/>\n            }\n            {\n                error && <Error message={typeof error === 'string' ? error : ''}/>\n            }\n        </>\n    );\n};"],"names":["SearchPage","_useLocation","useLocation","pathname","localPage","search","dispatch","useAppDispatch","movies","useMovies","items","totalPage","resPage","error","isLoading","_useState","useState","parseInt","split","_useState2","_slicedToArray","page","setPage","currentPage","length","useEffect","getMoviesBySearchThunk","_jsxs","_Fragment","children","_jsx","List","renderItem","item","MovieItem","id","PaginationContainer","Error","message","concat"],"sourceRoot":""}